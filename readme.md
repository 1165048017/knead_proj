
### 游戏中捏脸的实现


本项目关于捏脸的实现主要参考了《楚留香》和《完美世界》手游， 目前主流的游戏关于捏脸的实现主要集中在两个方面：

1. 更改脸部骨骼，捏出不同脸的外形

2. 妆容，在基础的脸型上叠加不同的效果。


## Version

项目使用的unity版本是2018.2.1f， 打开unity工程，运行Example这个scene。



## 骨骼

事先需要做好脸部骨骼的划分，哪些是由蒙皮动画控制的，哪些由程序调整的，然后需要把所有的骨骼都需要绑定到SkinedMeshRender上。

而捏脸控制的就是后者，这些骨骼不能再由Animation来改动。这里我们调整的骨骼参数是位置、旋转、缩放，其中旋转需要指定旋转的轴向。



## 妆容

事先把脸划分五个部位，分别是眉妆、眼影、瞳色、唇齿、面纹。 妆容的实现是由一张基础的脸型，然后在之基础上堆叠上部位的贴图。而调整的参数
就是色相、饱和度、浓淡三个参数。 调整好参数之后使用FaceMakeupShader，后处理生成一张RenderTexture, 然后把这张RT（RenderTexture）
再赋给之前的材质。





### 写在最后

本项目旨在展示捏脸的实现原理，在实际的项目开发过程中，其复杂度远远不止于此。 我们需要将预处理好编辑过的骨骼，导出编辑过的数据到二进制文件，
也不会直接在gameobject上挂载脚本。关于如何组织，就看读者的code 能力了。